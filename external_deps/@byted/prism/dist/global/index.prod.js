var Prism=function(t,r,n,o,e){"use strict";function a(t,r,n){return r===n?t:t<=1?1:t>=n?r:(r-1)/((n-1)/(t-1))+1}function c(t,r){let n,o,e,c,u,s;n=2.80556391490106,o=-1.01491279589738,e=.911218467059328,c=-.260999395859336,u=.0352810380607801,s=-.00172187283785092;return 2.80556391490106+-1.01491279589738*(t=a(t,7,r))+.911218467059328*Math.pow(t,2)+-.260999395859336*Math.pow(t,3)+.0352810380607801*Math.pow(t,4)+-.00172187283785092*Math.pow(t,5)}function u(t,r){let n,o,e,c,u,s;n=1.17160555554771,o=.136104149565393,e=-.205232536343237,c=.162261403029564,u=-.0232492322213921,s=.000989281211891432;return 1.17160555554771+.136104149565393*(t=a(t,10,r))+-.205232536343237*Math.pow(t,2)+.162261403029564*Math.pow(t,3)+-.0232492322213921*Math.pow(t,4)+.000989281211891432*Math.pow(t,5)}function s(t,r){let n,o,e,c,u,s;n=1.42077117276554,o=1.97245501432833,e=-.98082272198693,c=.281191542127172,u=.00366469599865697,s=-.00322141824437273;return 1.42077117276554+1.97245501432833*(t=a(t,6,r))+-.98082272198693*Math.pow(t,2)+.281191542127172*Math.pow(t,3)+.00366469599865697*Math.pow(t,4)+-.00322141824437273*Math.pow(t,5)}function i(t,r){let n,o,e,c,u,s;n=1.46564604642846,o=-.928203887106309,e=.741369599412513,c=-.205177932922759,u=.0254591071464198,s=-.00101578314785047;return 1.46564604642846+-.928203887106309*(t=a(t,10,r))+.741369599412513*Math.pow(t,2)+-.205177932922759*Math.pow(t,3)+.0254591071464198*Math.pow(t,4)+-.00101578314785047*Math.pow(t,5)}function l(t,r){let n,o,e,c,u,s;n=1.43066442413396,o=-.183303227490002,e=-.297894090795745,c=.20894616649874,u=-.0339616146116733,s=.00177454663520377;return 1.43066442413396+-.183303227490002*(t=a(t,9,r))+-.297894090795745*Math.pow(t,2)+.20894616649874*Math.pow(t,3)+-.0339616146116733*Math.pow(t,4)+.00177454663520377*Math.pow(t,5)}function f(t,r){let n,o,e,c,u,s;n=1.4566227721917,o=-.750523514967315,e=.525147359851746,c=-.112197666983703,u=.0110033631737628,s=-.000329609883693566;return 1.4566227721917+-.750523514967315*(t=a(t,11,r))+.525147359851746*Math.pow(t,2)+-.112197666983703*Math.pow(t,3)+.0110033631737628*Math.pow(t,4)+-.000329609883693566*Math.pow(t,5)}const h={curveAdobeSpectrum:c,curveGoogleMaterial:u,curveFirefoxPhoton:s,curveAntD:i,curveMicrosoftFluent:l,curveByDesign:f};function p(t,r){let n=Math.abs(t[t.length-1]-t[0]),o=0;for(let e=0;e<t.length;e++){const a=Math.abs(r-t[e]);a<n&&(n=a,o=e)}return o}const M=16777215;function v(t){const n=Math.abs(Math.floor(t)),o=n>>16,e=(n^o<<16)>>8;return r.rgb(o,e,n^o<<16^e<<8)}function b(t){const r=t/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}function d(t){const{r:r,g:n,b:o}=t,[e,a,c]=[r,n,o].map((t=>b(t)));return.2126*e+.7152*a+.0722*c}function w(t){const{r:r,g:n,b:o}=t;return b(.2126*r+.7152*n+.0722*o)}function g(t,r){const n=w(t),o=w(r),[e,a]=n>o?[n,o]:[o,n];return(e+.05)/(a+.05)}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function m(t,r,n,o){return new(n||(n=Promise))((function(e,a){function c(t){try{s(o.next(t))}catch(t){a(t)}}function u(t){try{s(o.throw(t))}catch(t){a(t)}}function s(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(t){t(r)}))).then(c,u)}s((o=o.apply(t,r||[])).next())}))}const y={hsl:r.hsl,lab:r.lab,jab:o.jab,jch:o.jch,lch:r.hcl,hsv:n.hsv,hsluv:e.hsluv};let A=!1;const S=Array(M),R={};function E(t){return m(this,void 0,void 0,(function*(){!function(){if(!A){A=!0;for(let t=0;t<M;t++)S[t]=d(v(t))}}();try{!function(t){Object.keys(R).forEach((t=>delete R[t]));const r=Array(M),n=y[t];for(let t=0;t<=M;t++)r[t]=n(v(t));R[t]=r}(t)}catch(t){return console.error(t),"Failed"}return"Succeed"}))}function _(t,r,n){return m(this,void 0,void 0,(function*(){const o=R[t];if(!o)throw Error("Error: data no found, must invoke init() before query().");const e=Object.entries(r);let a=Math.sqrt(e.reduce(((t,[r,n])=>t+Math.pow(n,2)),0)),c=21,u=0;for(let t=0;t<M;t++){const r=o[t];let s=0;for(let t=0;t<e.length;t++){const[n,o]=e[t];s+=Math.pow(r[n]-o,2)}const i=Math.sqrt(s),l=(Math.sqrt(Math.pow(S[t]-n,2)),Math.sqrt(s+Math.pow(S[t]-n,2)));l<c&&(a=i,c=l,u=t)}return"#"+u.toString(16).padStart(6,"0")}))}const j={RGB:{name:"rgb",translator:r.rgb,interpolator:r.interpolateRgb},HSL:{name:"hsl",translator:r.hsl,interpolator:r.interpolateHsl},HSV:{name:"hsv",translator:n.hsv,interpolator:n.interpolateHsv},Lab:{name:"lab",translator:r.lab,interpolator:r.interpolateLab},CAM02:{name:"jab",translator:o.jab,interpolator:o.interpolateJab}};const q=3e4;function P(t,n,o,e){const a=j[t],{translator:c,interpolator:u}=a,s=r.rgb(n),i=d(s)<.5,l=[...[...o].sort(((t,n)=>{const[o,e]=[t,n].map((t=>g(r.rgb(t),s)));return o-e}))];{l.push(i?"#ffffff":"#000000");const t=u(c(r.rgb(i?"#000000":"#ffffff")),l[0]),n=[],o=[];Array(q).fill(0).forEach(((e,a)=>{const c=t((a+1)/q),u=r.rgb(c),i=g(r.rgb(c),s);n.push(u.formatHex()),o.push(i)})),n.reverse(),o.reverse();const e=p(o,1);l.unshift(n[e])}const{length:f}=l,h=f-1,M=l.map((t=>r.rgb(t))),v=M.map((t=>g(s,t))),b=M.map((t=>c(t))),w=b.map(((t,r)=>0===r?t=>l[0]:u(b[r-1],t))),m=[],y=[];return w.forEach(((t,n)=>{0!==n&&Array(q).fill(0).forEach(((n,o)=>{const e=t((o+1)/q),a=r.rgb(e),c=g(r.rgb(e),s);m.push(a.formatHex()),y.push(c)}))})),e.map((t=>{{const r=v.indexOf(t);if(r>0)return[l[r],t]}if(t>v[h])return[l[h],v[h]];{const r=p(y,t);return[m[r],y[r]]}}))}const x={init:E};return t.CONTRAST_RATIO_MAX=21,t.CONTRAST_RATIO_MIN=1,t.MESSAGE_TYPE_HANDLER_MAP=x,t.RGB_MAX=M,t.RGB_MIN=0,t.asyncQueue=function(t,r){return m(this,void 0,void 0,(function*(){return new Promise(((n,o)=>{const e=Math.floor(r>=1&&r||1),a=[...t],{length:c}=a;let u=0,s=0;const i=[],l=()=>m(this,void 0,void 0,(function*(){const t=u;return u++,(0,a[t])().then((r=>{if(i[t]=r,s++,s===c&&n(i),u<c)return l()})).catch(o)}));for(let t=0;t<e&&t<c;t++)l()}))}))},t.contrastRatio=g,t.createColorTranslator=function(t){return r=>t(v(r))},t.curveAdobeSpectrum=c,t.curveAntD=i,t.curveByDesign=f,t.curveFirefoxPhoton=s,t.curveFunctionMap=h,t.curveGoogleMaterial=u,t.curveMicrosoftFluent=l,t.curveNormalizeMap={curveAdobeSpectrum:7,curveGoogleMaterial:10,curveFirefoxPhoton:6,curveAntD:10,curveMicrosoftFluent:9,curveByDesign:11},t.getClosestIndex=p,t.getRelatedLuminanceByContrastRatio=function(t,r){const n=t<.5?r*(t+.05)-.05:(t+.05)/r-.05;return n<0?0:n>1?1:n},t.getSrgbFromNumber=v,t.getYSeries=function(t,r,n){const o=h[t],e=Array(r).fill(0).map(((t,r)=>r+1)),a=e.map((t=>o(t,r)));if(!n)return a;const c=p(a,n),u=c+1;{let t=21,c=u;const s=.01;for(let e=s;e<1;e+=s){{const a=u-e,s=o(a,r),i=Math.abs(n-s);i<t&&(t=i,c=a)}{const a=u+e,s=o(a,r),i=Math.abs(n-s);i<t&&(t=i,c=a)}}a[u-1]=n,e.forEach(((t,n)=>{if(1===t||t===r||t===u)return;const e=o(t<u?(c-1)/((u-1)/(t-1))+1:t>u?(r-c)/((r-u)/(t-u))+c:c,r);a[n]=e}))}return a},t.grayScale=w,t.init=E,t.query=function(t,r){const{space:n,backgroundColor:o,seedColors:e,contrastRatioList:a}=t,c={};return Object.entries(e).forEach((([t,r])=>{const e=P(n,o,[r],a);c[t]=e})),r&&r(c)||c},t.queryClosest=_,t.querySequence=P,t.querySeries=function(t,r,n){return m(this,void 0,void 0,(function*(){return Promise.all(n.map((n=>_(t,r,n))))}))},t.relatedLuminance=d,t.standardToLinear=b,t.toolkitMap=j,t.translatorMap=y,Object.defineProperty(t,"__esModule",{value:!0}),t}({},d3,d3,d3,d3);
//# sourceMappingURL=index.prod.js.map
